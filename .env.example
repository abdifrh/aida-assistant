# ==================================================
# SOPHIE - AI MEDICAL SECRETARY
# Environment Configuration Template
# ==================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env file to version control
# ==================================================

# ------------------------------
# SERVER CONFIGURATION
# ------------------------------
PORT=3000
NODE_ENV=development

# ------------------------------
# DATABASE
# ------------------------------
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL="postgresql://postgres:password@localhost:5432/sophie_medical?schema=public"

# ------------------------------
# LLM SERVICE (OLLAMA)
# ------------------------------
# Ollama API endpoint for Sophie AI model
LLM_API_URL="http://localhost:11434/api/generate"
# Model name (must be created with: ollama create aida-medical-v1 -f Modelfile.optimized)
LLM_MODEL_NAME="aida-medical-v1"

# ------------------------------
# AUTHENTICATION
# ------------------------------
# JWT secret for dashboard authentication (use a strong random string)
JWT_SECRET="your_secure_jwt_secret_here_minimum_32_characters"

# Super Admin credentials for /superadmin dashboard
SUPER_ADMIN_USERNAME="admin"
SUPER_ADMIN_PASSWORD="your_secure_password_here"

# ------------------------------
# GOOGLE OAUTH2 (Calendar Integration)
# ------------------------------
# Create credentials at: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID="your_google_client_id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your_google_client_secret"
GOOGLE_REDIRECT_URI="http://localhost:3000/oauth/callback"

# For production, update redirect URI to your domain:
# GOOGLE_REDIRECT_URI="https://yourdomain.com/oauth/callback"

# ------------------------------
# WHATSAPP BUSINESS API
# ------------------------------
# These are configured PER CLINIC in the database
# via the Super Admin dashboard or directly in the database
# You DO NOT need to set them here as environment variables

# Example of what's stored in database (ClinicWhatsAppConfig table):
# - phone_number_id: WhatsApp phone number ID from Meta
# - access_token: WhatsApp Business API access token
# - app_secret: App secret for webhook signature verification
# - api_version: v18.0 (or latest)
# - webhook_verify_token: Token for webhook verification

# ------------------------------
# OPTIONAL: LOGGING
# ------------------------------
# Log level: debug, info, warn, error
LOG_LEVEL=info

# ------------------------------
# OPTIONAL: TIMEZONE
# ------------------------------
# Default timezone for new clinics (can be overridden per clinic)
DEFAULT_TIMEZONE="Europe/Paris"

# ==================================================
# NOTES:
# ==================================================
# 1. After setting up .env, run: npx prisma db push
# 2. Then run: npx prisma generate
# 3. Create Ollama model: ollama create aida-medical-v1 -f Modelfile.optimized
# 4. Start server: npm run dev
#
# For production deployment:
# - Use strong passwords and secrets
# - Update GOOGLE_REDIRECT_URI to your domain
# - Set NODE_ENV=production
# - Use a production database (not localhost)
# - Consider using environment variable management (e.g., Docker secrets, cloud provider)
# ==================================================
